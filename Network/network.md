쿠키, 세션, JWT 토큰
Cookie / Session
세션 기반 인증 / 토큰 기반 인증
JWT
QnA

# 쿠키는 무엇인가요?
- 쿠키는 Server(웹서버)가 Client(웹브라우저)에 저장하는 데이터입니다
- Clinet >>(쿠키)>> Server 로 요청할 때 함께 전달
- Server >>(쿠키)>> Client 로 정보를 반환
- 쿠키는 Key:Value로 구성되고 String형태로 이루어져있습니다
- 쿠키를 사용하면 Server와 Client는 데이터를 공유, 상태 유지를 할 수 있습니다
## 쿠키를 사용하는 이유는 무엇인가요?
- Client 정보를 모두 Server에 저장하면 Server의 자원 부담이 커집니다
- 예를 들면) Client가 Server에 요청하는 언어(kor/eng)에 대한 정보 등을
- Client에 저장해두고 요청시에 Server가 확인하는 방식으로 하면 서버의 부담이 적어집니다
- 예를 들면) id/pw 저장, 장바구니 등에 활용

# 세션은 무엇인가요?
- 일정 시간동안 같은 Client로부터 오는 요청을 하나의 상태로 보고, 그 상태를 일정하게 유지시키는 기술입니다
- 여기서 일정시간이란, Client가 Server에 **접속한 시점** ~ **브라우저를 종료해 연결을 끝내는 시점** 까지입니다
- 즉, Client가 Server에 접속해있는 상태를 하나의 단위로 보고 이를 세션이라고 합니다
- Server가 응답할 때 HTTP헤더에 세션ID를 포함해서 전송합니다

# 세션을 사용하는 이유는 무엇인가요?
- 먼저, HTTP는 Client의 요청에 대한 응답을 처리하면 연결을 끊습니다
- 연결이 끊어지면 Client의 정보를 저장하지 않으므로, Server의 자원을 아낄 수 있습니다
- 다만, 매번 Client가 누구인지 식별해야하는 문제점이 발생합니다
- 이 것을 해결하기 위해 Client가 이전 요청과 동일함을 확인하기 위해 존재합니다
- 예를 들면) 로그인 시에 사용합니다

# 쿠키와 세션의 차이점은 무엇인가요?
- 쿠키는 Client에 세션은 Server에 저장됩니다
- 세션은 세션id만 저장하므로 비교적 보안성이 좋습니다
- 쿠키는 사용자가 삭제할 때 까지 유효하지만, 세션은 Client가 종료되거나 만료시점에 삭제됩니다
- 세션은 실제 저장된 정보가 Server에 있어 쿠키보다 느립니다

# 세션 인증 방식 vs 토큰 인증 방식을 비교해보세요
- 세션 인증 방식은 Client가 요청할 때마다 세션id를 가지고 DB(세션 저장소)에서 일치하는 id를 찾은 후 응답을 전달합니다
- 따라서 대규모 DB가 필요하는 등, Server에 부하가 심하며 Server 확장이 어렵습니다
- CORS(?)
- 반면, 토큰 방식은 **이미 인증 받은 Server들에게** 토큰을 발급하고
- Server에 요청할 때마다 헤더에 토큰을 함께 보내서 유효성 검사를 하는 방식입니다
- 토큰을 DB가 아닌 Server가 직접 가지고 있으므로 Server는 Stateless 방식으로 운영가능합니다
# 토큰 인증 방식에 단점은 무엇인가요
- JWT로 암호화 하더라도 일부(Payload)는 암호화 되지 않기 때문에 중요한 정보를 담을 수는 없습니다
- 쿠키/세션과 달리 길이가 길어, 인증요청이 많으면 **네트워크**에(서버아님) 부하가 발생할 수 있습니다
- 탈취될 경우, 유효기간 만료시까지 대처가 어렵습니다
> 왜냐하면, 세션의 경우 서버의 DB에서 삭제하는 등 대처가 가능한 반면 토큰 방식은 불가능
> 요청의 토큰을 확인해 인증만 하므로, 유효한 Client라고 생각하고 응답해버리기 때문에


# JWT 토큰
